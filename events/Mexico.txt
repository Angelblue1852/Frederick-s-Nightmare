add_namespace = MEX

#Setup Event
country_event = {
	id = MEX.1
	title = MEX.1.t
	desc = MEX.1.d
	picture = GFX_report_event_factory
	
	is_triggered_only = yes
	
	option = {
		name = MEX.1.o1
	}
}

#Texan Uprising
country_event = {
	id = MEX.2
	title = MEX.2.t
	desc = MEX.2.d
	picture = GFX_report_event_mexican_civil_war
	
	is_triggered_only = yes
	
	trigger = {
		owns_state = 375
		TEX = { exists = no }
		NOT = {
			has_government = democratic
		}
	}
	
	immediate = {
		set_global_flag = texan_uprising
		hidden_effect = {
			news_event = { id = MEX_news.1 days = 1 }
		}
	}
	
	option = {
		name = MEX.2.o1
		add_political_power = -100
		TEX = {
			transfer_state = 375
			transfer_state = 943
			transfer_state = 944
		}
		declare_war_on = {
			target = TEX
			type = annex_everything
		}
	}
	
	option = {
		name = MEX.2.o2
		add_political_power = -100
		TEX = {
			transfer_state = 375
			transfer_state = 943
			transfer_state = 944
		}
		declare_war_on = { target = TEX type = annex_everything }
		declare_war_on = {
			target = TEX
			type = annex_everything
		}
	}
}

#Mexican Civil War: Send aid to Texas?
country_event = {
	id = MEX.3
	title = MEX.3.t
	desc = MEX.3.d
	picture = GFX_report_event_tank_factory2
	
	is_triggered_only = yes
	
	option = {
		name = MEX.3.o1
		add_political_power = -50
		if = {
			limit = { original_tag = USA }
			TEX = { load_oob = TEX_american_nationalists }
			TEX = {
				set_country_flag = texas_american_volunteers
			}
		}
		if = {
			limit = { original_tag = CAL }
			TEX = { load_oob = TEX_californian_nationalists }
			TEX = {
				set_country_flag = texas_californian_volunteers
			}
		}
		news_event = {
			id = MEX_news.3
			hours = 4
		}
		ai_chance = { base = 90 }
	}
	
	option = {
		name = MEX.3.o2
		add_stability = -0.05
		add_war_support = -0.05
		ai_chance = { base = 10 }
	}
}

#Propose the Austin Accords
country_event = {
	id = MEX.4
	title = MEX.4.t
	desc = MEX.4.d
	picture = GFX_report_event_international_meeting4
	
	is_triggered_only = yes
	
	trigger = {
		exists = yes
		has_war_with = MEX
	}
	
	option = {
		name = MEX.4.o1
		MEX = { country_event = { id = MEX.5 hours = 10 } }
		ai_chance = { base = 99 }
	}
	
	option = {
		name = MEX.4.o2
		add_political_power = 75
		ai_chance = { base = 1 }
	}
}

#Texas proposes Austin Accords
country_event = {
	id = MEX.5
	title = MEX.5.t
	desc = MEX.5.d
	picture = GFX_report_event_international_meeting4
	
	is_triggered_only = yes
	
	option = {
		name = MEX.5.o1
		white_peace = TEX
		clr_global_flag = texan_uprising
		news_event = { id = MEX_news.2 hours = 8 }
		hidden_effect = {
			TEX = { country_event = { id = TEX.2 days = 4 } }
		}
		ai_chance = { base = 99 }
	}
	
	option = {
		name = MEX.5.o2
		every_country = {
			limit = {
				OR = { original_tag = CAL original_tag = USA }
				NOT = { has_war_with = TEX }
				NOT = { is_in_faction_with = MEX }
				NOT = { has_war_with = MEX }
			}
			country_event = { id = MEX.6 hours = 3 }
		}
		ai_chance = { base = 1 }
	}
}

#Mexico refuses peace with Texas
country_event = {
	id = MEX.6
	title = MEX.6.t
	desc = MEX.6.d
	picture = GFX_report_event_army_casualties
	
	is_triggered_only = yes
	
	option = {
		name = MEX.6.o1
		add_to_war = {
			targeted_alliance = TEX
			enemy = MEX
		}
		ai_chance = { base = 85 }
	}
	
	option = {
		name = MEX.6.o2
		add_political_power = -75
		ai_chance = { base = 15 }
	}
}

#[From.GetName] wants to join the Socialist Alliance
country_event = {
	id = MEX.7
	title = MEX.7.t
	desc = MEX.7.d
	picture = GFX_report_event_paris
	
	is_triggered_only = yes
	
	option = {
		name = MEX.7.o1
		add_to_faction = FROM
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = diplomatic_request_accepted
			}
		}
		add_named_threat = {
			threat = 0.5
			name = "New Faction Member"
		}
		ai_chance = { base = 100 }
	}
	
	option = {
		name = MEX.7.o2
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = diplomatic_request_rejected
			}
		}
		ai_chance = { base = 0 }
	}
}

#Revolutionary Ideals
country_event = {
	id = MEX.8
	title = MEX.8.t
	desc = MEX.8.d
	picture = GFX_report_event_paris
	
	is_triggered_only = yes
	
	option = {
		name = MEX.8.o1
		add_to_variable = {
			var = MEX_rio_grandese_agitation
			value = 5
			tooltip = add_10_to_var_ra
		}
		add_to_variable = {
			var = MEX_pima_agitation
			value = 10
			tooltip = add_10_to_var_pa
		}
		add_to_variable = {
			var = MEX_navajo_agitation
			value = 10
			tooltip = add_10_to_var_na
		}
		add_to_variable = {
			var = MEX_yucatan_agitation
			value = 5
			tooltip = add_10_to_var_ya
		}
		ai_chance = { base = 100 }
	}
}

country_event = {
	id = MEX.9
	title = MEX.9.t
	desc = MEX.9.d
	picture = GFX_report_event_paris
	
	is_triggered_only = yes
	
	option = {
		name = MEX.9.o1
		add_to_variable = {
			var = MEX_texan_agitation
			value = 5
			tooltip = add_5_to_var_ta
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = MEX.9.o2
		add_to_variable = {
			var = MEX_texan_agitation
			value = 10
			tooltip = add_10_to_var_ta
		}
		add_political_power = 50
		ai_chance = { base = 100 }
	}
}

#Rio Grande Uprising
country_event = {
	id = MEX.10
	title = MEX.10.t
	desc = MEX.10.d
	picture = GFX_report_event_mexican_civil_war
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = rio_grande_uprising
	}
	
	option = {
		name = MEX.10.o1
		add_political_power = -100
		RIG = {
			transfer_state = 479
			transfer_state = 480
			transfer_state = 482
		}
		declare_war_on = {
			target = RIG
			type = annex_everything
		}
	}
	
	option = {
		name = MEX.10.o2
		add_political_power = -100
		RIG = {
			transfer_state = 479
			transfer_state = 480
			transfer_state = 482
		}
		declare_war_on = {
			target = RIG
			type = annex_everything
		}
		RIG = {
			change_tag_from = MEX
		}
	}
}

#Navajo Uprising
country_event = {
	id = MEX.11
	title = MEX.11.t
	desc = MEX.11.d
	picture = GFX_report_event_mexican_civil_war
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = navajo_uprising
	}
	
	option = {
		name = MEX.11.o1
		add_political_power = -50
		NVJ = {
			transfer_state = 937
		}
		declare_war_on = {
			target = NVJ
			type = annex_everything
		}
	}
}

#Pima Uprising
country_event = {
	id = MEX.12
	title = MEX.12.t
	desc = MEX.12.d
	picture = GFX_report_event_mexican_civil_war
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = navajo_uprising
	}
	
	option = {
		name = MEX.12.o1
		add_political_power = -50
		PIM = {
			transfer_state = 377
		}
		declare_war_on = {
			target = PIM
			type = annex_everything
		}
	}
}

#Pima Uprising
country_event = {
	id = MEX.13
	title = MEX.13.t
	desc = MEX.13.d
	picture = GFX_report_event_mexican_civil_war
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = navajo_uprising
	}
	
	option = {
		name = MEX.13.o1
		add_political_power = -50
		YUC = {
			transfer_state = 474
		}
		declare_war_on = {
			target = YUC
			type = annex_everything
		}
	}
}